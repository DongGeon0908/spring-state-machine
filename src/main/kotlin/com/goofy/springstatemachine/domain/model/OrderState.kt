package com.goofy.springstatemachine.domain.model

/**
 * 주문 상태를 나타내는 열거형
 * 
 * 상태 머신에서 '상태(State)'란?
 * - 상태는 시스템이 특정 시점에 있을 수 있는 조건이나 상황을 나타냅니다.
 * - 주문 처리 시스템에서 상태는 주문이 현재 어떤 단계에 있는지를 나타냅니다.
 * - 각 상태는 특정 비즈니스 규칙과 가능한 작업을 정의합니다.
 * 
 * 주문 처리 흐름에서의 상태:
 * 1. CREATED - 주문 생성됨: 고객이 주문을 생성한 초기 상태입니다. 이 상태에서는 결제하거나 취소할 수 있습니다.
 * 2. PAYMENT_PENDING - 결제 대기 중: 결제가 진행 중인 상태입니다. 결제 성공 또는 실패에 따라 다음 상태로 전이됩니다.
 * 3. PAID - 결제 완료: 주문이 성공적으로 결제된 상태입니다. 이 상태에서는 배송을 시작하거나 취소할 수 있습니다.
 * 4. PREPARING - 상품 준비 중: 배송을 위해 상품을 준비하는 상태입니다.
 * 5. SHIPPED - 배송 중: 주문 상품이 배송 중인 상태입니다. 이 상태에서는 배송 완료 처리만 가능합니다.
 * 6. DELIVERED - 배송 완료: 주문 상품이 고객에게 배송 완료된 최종 상태입니다. 이 상태에서는 더 이상 상태 변경이 불가능합니다.
 * 7. CANCELLED - 주문 취소: 주문이 취소된 상태입니다. 이 상태에서는 더 이상 상태 변경이 불가능합니다.
 * 8. REFUNDED - 환불 완료: 취소된 주문에 대해 환불이 완료된 상태입니다.
 * 
 * 특수 상태:
 * - PAYMENT_CHOICE - 결제 방법 선택 (선택 상태): 결제 방법에 따라 다른 처리 경로로 분기됩니다.
 * - SHIPPING_JUNCTION - 배송 분기점 (정션 상태): 배송 조건에 따라 다른 처리 경로로 분기됩니다.
 * 
 * 각 상태는 주문의 라이프사이클에서 특정 단계를 나타내며, 상태에 따라 가능한 작업이 달라집니다.
 * 예를 들어, DELIVERED 상태의 주문은 더 이상 취소할 수 없습니다.
 */
enum class OrderState {
    /** 기본 상태 */
    /** 주문 생성됨 - 초기 상태, 결제 또는 취소 가능 */
    CREATED,
    /** 결제 대기 중 - 결제 진행 중 */
    PAYMENT_PENDING,
    /** 결제 완료 - 배송 시작 또는 취소 가능 */
    PAID,
    /** 상품 준비 중 - 배송 준비 중 */
    PREPARING,
    /** 배송 중 - 배송 완료 처리만 가능 */
    SHIPPED,
    /** 배송 완료 - 최종 상태, 더 이상 변경 불가 */
    DELIVERED,
    /** 주문 취소 - 최종 상태, 더 이상 변경 불가 */
    CANCELLED,
    /** 환불 완료 - 취소 후 환불 처리된 상태 */
    REFUNDED,

    /** 특수 상태 (선택 및 정션 상태) */
    /** 결제 방법 선택 (선택 상태) */
    PAYMENT_CHOICE,
    /** 배송 분기점 (정션 상태) */
    SHIPPING_JUNCTION
}
